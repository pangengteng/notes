# 哈希表

> 哈希表，又叫散列表，是一种基于数组的数据结构，用于快速添加、删除、查找数据

## 原理

> 适用于key-value的数据，key类似于索引，通过哈希函数，把key映射为数组下标，然后把key-value存到对应的位置
>
> 如果该位置已经被其他数据占用，则会发生哈希冲突，而且随着数组中元素越来越多，冲突发生的概率会越来越大
>
> 哈希表设计的关键
>
> 1. 哈希函数：使得数据尽可能的随机、均匀的分配到数组，且本身要足够简单
> 2. 哈希冲突：发生哈希冲突时，数据操作性能可能会下降，要关注、提升最坏的情况下的性能

### 哈希函数

> 常见的设计方法
> 1. 数据分析法：考虑key的特点、分布，哈希表的大小。例如取手机4位尾号
> 2. 直接寻址法：f(key) = key，要求key范围小，稀疏
> 3. 平方取中法：适合key位数较小
> 4. 折叠法：比如Java中对key的高16位和低16位做异或运算
> 5. 随机数法：

### 哈希冲突

> 常见的解决方法
> 1. 开放寻址法：冲突时在数组上寻找下一个空位，比如线性查找，或者指数查找。优点：可利用CPU缓存，序列化简单；缺点：删除数据需要特殊标记，转载因子不能太大，空间浪费大，扩容代价高
> 2. 拉链法：用链表存储数据。优点：空间利用率高

## 与链表结合使用

> 哈希表用于快速查找
> 链表用于顺序访问
>
> 场景
> 1. Redis Sorted Set
> 2. Java LinkedHashMap